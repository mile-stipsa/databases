--Baza je implementirana kod oba studenta

--Tabele dropovane zato sto su vec bile kreirane, radi provere funkcionalnosti SQL-a,takodje i sekvence

DROP TABLE "PROGRAMSKIJEZIK" cascade constraints;
DROP TABLE "ZAPOSLENI" cascade constraints;
DROP TABLE "PROGRAMER" cascade constraints;
DROP TABLE "STARIJIPROJEKTANT" cascade constraints;
DROP TABLE "SPOLJNISARADNIK" cascade constraints;
DROP TABLE "SOFTVERSKIPROJEKAT" cascade constraints;
DROP TABLE "OUTSOURCING" cascade constraints;
DROP TABLE "PROJEKATKOJISERAZVIJAUFIRMI" cascade constraints;
DROP TABLE "ZNA" cascade constraints;
DROP TABLE "ANGAZOVANI" cascade constraints;
DROP TABLE "RUKOVODI" cascade constraints;
DROP TABLE "TELEFON" cascade constraints;
DROP TABLE "STELEFON" cascade constraints;

DROP SEQUENCE "PROGRAMSKI_JEZIK_ID_SEQ";
DROP SEQUENCE "ZAPOSLENI_ID_SEQ";
DROP SEQUENCE "SARADNIK_ID_SEQ";
DROP SEQUENCE "PROJEKAT_ID_SEQ";
DROP SEQUENCE "ZNA_ID_SEQ";
DROP SEQUENCE "ANGAZOVANI_ID_SEQ";
DROP SEQUENCE "RUKOVODI_ID_SEQ";
DROP SEQUENCE "TELEFON_ID_SEQ";
DROP SEQUENCE "STELEFON_ID_SEQ";
--naredbe za kreiranje sekvenci

CREATE SEQUENCE  "PROGRAMSKI_JEZIK_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "ZAPOSLENI_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "SARADNIK_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "PROJEKAT_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "ZNA_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "RUKOVODI_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "ANGAZOVANI_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "TELEFON_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
CREATE SEQUENCE  "STELEFON_ID_SEQ"  MINVALUE 1 MAXVALUE 99999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;

--naredbe za kreiranje tabela


  CREATE TABLE "PROGRAMSKIJEZIK" 
   (	
    "IDPROGRAMSKOGJEZIKA" NUMBER(5,0), 
	"IMEPROGRAMSKOGJEZIKA" VARCHAR2(30 BYTE)
   ) ;

  CREATE TABLE "ZAPOSLENI" 
   (	
    "IDZAPOSLJENOG" NUMBER(5,0), 
    "IME" VARCHAR2(30 BYTE),
    "PREZIME" VARCHAR2(30 BYTE),
    "JMBG" NUMBER(13,0),
    "GRAD" VARCHAR2(30 BYTE),
    "BROJKUCE" NUMBER(3,0),
    "NAZIVULICE" VARCHAR2(30 BYTE)
   ) ;


  CREATE TABLE "PROGRAMER" 
   (	
    "IDZAPOSLJENOG" NUMBER(5,0)
   ) ;
   

  CREATE TABLE "STARIJIPROJEKTANT" 
   (	
    "IDZAPOSLJENOG" NUMBER(5,0)
   ) ;

  CREATE TABLE "SPOLJNISARADNIK" 
   (	
    "IDSARADNIKA" NUMBER(5,0), 
	"SIME" VARCHAR2(30 BYTE), 
	"SPREZIME" VARCHAR2(30 BYTE), 
    "IDZAPOSLJENOG" NUMBER(5,0)
   ) ;

  CREATE TABLE "SOFTVERSKIPROJEKAT" 
   (	
    "IDPROJEKTA" NUMBER(5,0), 
	"VREMEPOCETKA" DATE, 
	"VREMEZAVRSETKA" DATE 
   ) ;

  CREATE TABLE "OUTSOURCING" 
   (	
    "IDPROJEKTA" NUMBER(5,0), 
	"IMEFIRME" VARCHAR2(30 BYTE), 
	"NAZIVULICE" VARCHAR2(30 BYTE),
    "GRAD" VARCHAR2(30 BYTE),
    "BROJ" NUMBER(3,0)
   ) ;

  CREATE TABLE "PROJEKATKOJISERAZVIJAUFIRMI" 
   (	
    "IDPROJEKTA" NUMBER(5,0)
   ) ;

  CREATE TABLE "ZNA" 
   (	
    "ZNAID" NUMBER(5,0), 
	"IDZAPOSLJENOG" NUMBER(5,0), 
	"IDPROGRAMSKOGJEZIKA" NUMBER(5,0)
   ) ;

  CREATE TABLE "ANGAZOVANI" 
   (	
    "ANGAZOVANIID" NUMBER(5,0), 
	"IDPROJEKTA" NUMBER(5,0), 
	"IDZAPOSLJENOG" NUMBER(5,0), 
	"POCETAK" DATE, 
	"KRAJ" DATE
    );

  CREATE TABLE "RUKOVODI" 
   (	
    "RUKOVODIID" NUMBER(5,0), 
	"IDPROJEKTA" NUMBER(5,0), 
    "IDZAPOSLJENOG" NUMBER(5,0),
	"POCETAK" DATE, 
	"KRAJ" DATE
   ) ;

  CREATE TABLE "TELEFON" 
   (	
"IDTELEFON" NUMBER(5,0),
    "TELEFON" VARCHAR2(20 BYTE), 
	"IDZAPOSLJENOG" NUMBER(5,0)
    
   ) ;

  CREATE TABLE "STELEFON" 
   (	
"IDSTELEFON" NUMBER(5,0),
    "STELEFON" VARCHAR2(20 BYTE), 
	"IDSARADNIKA" NUMBER(5,0)
     
   ) ;

--naredbe za kreiranje jedinstvenih identifikatora na primarne i strane kljuceve

  CREATE UNIQUE INDEX "PROGRAMSKIJEZIK_PK" ON "PROGRAMSKIJEZIK" ("IDPROGRAMSKOGJEZIKA");
  CREATE UNIQUE INDEX "ZAPOSLENI_PK" ON "ZAPOSLENI" ("IDZAPOSLJENOG");
  CREATE UNIQUE INDEX "PROGRAMER_PK" ON "PROGRAMER" ("IDZAPOSLJENOG");
  CREATE UNIQUE INDEX "STARIJIPROJEKTANT_PK" ON "STARIJIPROJEKTANT" ("IDZAPOSLJENOG");
  CREATE UNIQUE INDEX "SPOLJNISARADNIK_PK" ON "SPOLJNISARADNIK" ("IDSARADNIKA");
  CREATE UNIQUE INDEX "SOFTVERSKIPROJEKAT_PK" ON "SOFTVERSKIPROJEKAT" ("IDPROJEKTA");
  CREATE UNIQUE INDEX "OUTSOURCING_PK" ON "OUTSOURCING" ("IDPROJEKTA");  
  CREATE UNIQUE INDEX "PROJEKATKOJISERAZVIJAUFIRMI_PK" ON "PROJEKATKOJISERAZVIJAUFIRMI"("IDPROJEKTA");
  CREATE UNIQUE INDEX "ZNA_PK" ON "ZNA" ("ZNAID");
  CREATE UNIQUE INDEX "RUKOVODI_PK" ON "RUKOVODI" ("RUKOVODIID");
  CREATE UNIQUE INDEX "TELEFON_PK1" ON "TELEFON" ("IDTELEFON");
  CREATE UNIQUE INDEX "STELEFON_PK1" ON "STELEFON" ("IDSTELEFON");
  
  --kreiranje ogranicenja u tabelama

  ALTER TABLE "PROGRAMSKIJEZIK" ADD CONSTRAINT "PROGRAMSKIJEZIK_PK" PRIMARY KEY ("IDPROGRAMSKOGJEZIKA") ENABLE;
  ALTER TABLE "PROGRAMSKIJEZIK" MODIFY ("IDPROGRAMSKOGJEZIKA" NOT NULL ENABLE);
  ALTER TABLE "PROGRAMSKIJEZIK" MODIFY ("IMEPROGRAMSKOGJEZIKA" NOT NULL ENABLE);
  
  
  ALTER TABLE "ZAPOSLENI" ADD CONSTRAINT "ZAPOSLENI_PK" PRIMARY KEY ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "ZAPOSLENI" ADD CONSTRAINT "JMBG_UQ" UNIQUE ("JMBG") ENABLE;
  ALTER TABLE "ZAPOSLENI" MODIFY ("IDZAPOSLJENOG" NOT NULL ENABLE);
  ALTER TABLE "ZAPOSLENI" MODIFY ("IME" NOT NULL ENABLE);
  ALTER TABLE "ZAPOSLENI" MODIFY ("PREZIME" NOT NULL ENABLE);
  ALTER TABLE "ZAPOSLENI" MODIFY ("JMBG" NOT NULL ENABLE);
  ALTER TABLE "ZAPOSLENI" MODIFY ("GRAD" NOT NULL ENABLE);
  ALTER TABLE "ZAPOSLENI" MODIFY ("NAZIVULICE" NOT NULL ENABLE);
 
 
  ALTER TABLE "PROGRAMER" ADD CONSTRAINT "PROGRAMER_PK" PRIMARY KEY ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "PROGRAMER" ADD CONSTRAINT "ZAPOSLENI_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "ZAPOSLENI" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "PROGRAMER" MODIFY ("IDZAPOSLJENOG" NOT NULL ENABLE);
  
  ALTER TABLE "STARIJIPROJEKTANT" ADD CONSTRAINT "STARIJIPROJEKTANT_PK" PRIMARY KEY ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "STARIJIPROJEKTANT" ADD CONSTRAINT "ZAPOSLENI1_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "ZAPOSLENI" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "STARIJIPROJEKTANT" MODIFY ("IDZAPOSLJENOG" NOT NULL ENABLE);

  
  ALTER TABLE "SPOLJNISARADNIK" ADD CONSTRAINT "IDSARADNIKA_PK" PRIMARY KEY ("IDSARADNIKA") ENABLE;
  ALTER TABLE "SPOLJNISARADNIK" ADD CONSTRAINT "PROGRAMER_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "PROGRAMER" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "SPOLJNISARADNIK" MODIFY ("IDSARADNIKA" NOT NULL ENABLE);
  ALTER TABLE "SPOLJNISARADNIK" MODIFY ("SIME" NOT NULL ENABLE);
  ALTER TABLE "SPOLJNISARADNIK" MODIFY ("SPREZIME" NOT NULL ENABLE);

 
  ALTER TABLE "SOFTVERSKIPROJEKAT" ADD CONSTRAINT "IDPROJEKTA_PK" PRIMARY KEY ("IDPROJEKTA") ENABLE;
  ALTER TABLE "SOFTVERSKIPROJEKAT" MODIFY ("IDPROJEKTA" NOT NULL ENABLE);
  ALTER TABLE "SOFTVERSKIPROJEKAT" MODIFY ("VREMEPOCETKA" NOT NULL ENABLE);

 
  ALTER TABLE "OUTSOURCING" ADD CONSTRAINT "OUTSOURCING_PK" PRIMARY KEY ("IDPROJEKTA") ENABLE;
  ALTER TABLE "OUTSOURCING" ADD CONSTRAINT "PROJEKAT_FK" FOREIGN KEY ("IDPROJEKTA") REFERENCES "SOFTVERSKIPROJEKAT" ("IDPROJEKTA") ENABLE;
  ALTER TABLE "OUTSOURCING" MODIFY ("IDPROJEKTA" NOT NULL ENABLE);
  ALTER TABLE "OUTSOURCING" MODIFY ("IMEFIRME" NOT NULL ENABLE);
  
  ALTER TABLE "PROJEKATKOJISERAZVIJAUFIRMI" ADD CONSTRAINT "PROJEKATKOJISERAZVIJAUFIRMI_PK" PRIMARY KEY ("IDPROJEKTA") ENABLE; 
  ALTER TABLE "PROJEKATKOJISERAZVIJAUFIRMI" ADD CONSTRAINT "PROJEKAT1_FK" FOREIGN KEY ("IDPROJEKTA") REFERENCES "SOFTVERSKIPROJEKAT" ("IDPROJEKTA") ENABLE;
  ALTER TABLE "PROJEKATKOJISERAZVIJAUFIRMI" MODIFY ("IDPROJEKTA" NOT NULL ENABLE);
  
  ALTER TABLE "ZNA" ADD CONSTRAINT "ZNA_PK" PRIMARY KEY ("ZNAID") ENABLE; 
  ALTER TABLE "ZNA" ADD CONSTRAINT "PROGRAMER2_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "PROGRAMER" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "ZNA" ADD CONSTRAINT "IDPROGRAMSKOGJEZIKA_FK" FOREIGN KEY ("IDPROGRAMSKOGJEZIKA") REFERENCES "PROGRAMSKIJEZIK" ("IDPROGRAMSKOGJEZIKA") ENABLE;

  ALTER TABLE "ANGAZOVANI" ADD CONSTRAINT "ANGAZOVANI_PK" PRIMARY KEY ("ANGAZOVANIID") ENABLE; 
  ALTER TABLE "ANGAZOVANI" ADD CONSTRAINT "PROGRAMER3_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "PROGRAMER" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "ANGAZOVANI" ADD CONSTRAINT "PROJEKAT2_FK" FOREIGN KEY ("IDPROJEKTA") REFERENCES "SOFTVERSKIPROJEKAT" ("IDPROJEKTA") ENABLE;
  ALTER TABLE "ANGAZOVANI" MODIFY ("POCETAK" NOT NULL ENABLE);
  
  ALTER TABLE "RUKOVODI" ADD CONSTRAINT "RUKOVODI_PK" PRIMARY KEY ("RUKOVODIID") ENABLE; 
  ALTER TABLE "RUKOVODI" ADD CONSTRAINT "PROGRAMER4_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "STARIJIPROJEKTANT" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "RUKOVODI" ADD CONSTRAINT "PROJEKAT3_FK" FOREIGN KEY ("IDPROJEKTA") REFERENCES "SOFTVERSKIPROJEKAT" ("IDPROJEKTA") ENABLE;
  ALTER TABLE "RUKOVODI" MODIFY ("POCETAK" NOT NULL ENABLE);
 
 
 
  ALTER TABLE "TELEFON" ADD CONSTRAINT "TELEFON_PK1" PRIMARY KEY ("IDTELEFON") ENABLE; 
  ALTER TABLE "TELEFON" ADD CONSTRAINT "ZAPOSLENI3_FK" FOREIGN KEY ("IDZAPOSLJENOG") REFERENCES "ZAPOSLENI" ("IDZAPOSLJENOG") ENABLE;
  ALTER TABLE "TELEFON" MODIFY ("TELEFON" NOT NULL ENABLE);
  
  ALTER TABLE "STELEFON" ADD CONSTRAINT "STELEFON_PK1" PRIMARY KEY ("IDSTELEFON") ENABLE; 
  ALTER TABLE "STELEFON" ADD CONSTRAINT "ZAPOSLENI4_FK" FOREIGN KEY ("IDSARADNIKA") REFERENCES "SPOLJNISARADNIK" ("IDSARADNIKA") ENABLE;
  ALTER TABLE "STELEFON" MODIFY ("STELEFON" NOT NULL ENABLE);
  
  --kreiranje trigera

CREATE OR REPLACE TRIGGER "PROGRAMSKIJEZIK_AUTO_PK" 
    BEFORE INSERT
    ON PROGRAMSKIJEZIK
    REFERENCING NEW AS NEW
    FOR EACH ROW
    WHEN (NEW.IDPROGRAMSKOGJEZIKA IS NULL)
BEGIN
    SELECT PROGRAMSKI_JEZIK_ID_SEQ.NEXTVAL INTO :NEW.IDPROGRAMSKOGJEZIKA FROM DUAL;
END;
/
ALTER TRIGGER "PROGRAMSKIJEZIK_AUTO_PK" ENABLE;


  CREATE OR REPLACE TRIGGER "ZAPOSLENI_AUTO_PK" 
    BEFORE INSERT
    ON ZAPOSLENI
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.IDZAPOSLJENOG IS NULL)
BEGIN
    SELECT ZAPOSLENI_ID_SEQ.NEXTVAL INTO :NEW.IDZAPOSLJENOG FROM DUAL;
END;
/
ALTER TRIGGER "ZAPOSLENI_AUTO_PK" ENABLE;


  CREATE OR REPLACE TRIGGER "SARADNIK_AUTO_PK" 
    BEFORE INSERT
    ON SPOLJNISARADNIK
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.IDSARADNIKA IS NULL)
BEGIN
    SELECT SARADNIK_ID_SEQ.NEXTVAL INTO :NEW.IDSARADNIKA FROM DUAL;
END;
/
ALTER TRIGGER "SARADNIK_AUTO_PK" ENABLE;

 CREATE OR REPLACE TRIGGER "PROJEKAT_AUTO_PK" 
    BEFORE INSERT
    ON SOFTVERSKIPROJEKAT
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.IDPROJEKTA IS NULL)
BEGIN
    SELECT PROJEKAT_ID_SEQ.NEXTVAL INTO :NEW.IDPROJEKTA FROM DUAL;
END;
/
ALTER TRIGGER "PROJEKAT_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "ZNA_AUTO_PK" 
    BEFORE INSERT
    ON ZNA
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.ZNAID IS NULL)
BEGIN
    SELECT ZNA_ID_SEQ.NEXTVAL INTO :NEW.ZNAID FROM DUAL;
END;
/
ALTER TRIGGER "ZNA_AUTO_PK" ENABLE;


CREATE OR REPLACE TRIGGER "RUKOVODI_AUTO_PK" 
    BEFORE INSERT
    ON RUKOVODI
    REFERENCING NEW AS NEw
    FOR EACH ROW
     WHEN (NEW.RUKOVODIID IS NULL)
BEGIN
    SELECT RUKOVODI_ID_SEQ.NEXTVAL INTO :NEW.RUKOVODIID FROM DUAL;
END;
/
ALTER TRIGGER "RUKOVODI_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "ANGAZOVANI_AUTO_PK" 
    BEFORE INSERT
    ON ANGAZOVANI
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.ANGAZOVANIID IS NULL)
BEGIN
    SELECT ANGAZOVANI_ID_SEQ.NEXTVAL INTO :NEW.ANGAZOVANIID FROM DUAL;
END;
/
ALTER TRIGGER "ANGAZOVANI_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "TELEFON_AUTO_PK" 
    BEFORE INSERT
    ON TELEFON
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.IDTELEFON IS NULL)
BEGIN
    SELECT TELEFON_ID_SEQ.NEXTVAL INTO :NEW.IDTELEFON FROM DUAL;
END;
/
ALTER TRIGGER "TELEFON_AUTO_PK" ENABLE;

CREATE OR REPLACE TRIGGER "STELEFON_AUTO_PK" 
    BEFORE INSERT
    ON STELEFON
    REFERENCING NEW AS NEW
    FOR EACH ROW
     WHEN (NEW.IDSTELEFON IS NULL)
BEGIN
    SELECT STELEFON_ID_SEQ.NEXTVAL INTO :NEW.IDSTELEFON FROM DUAL;
END;
/
ALTER TRIGGER "TELEFON_AUTO_PK" ENABLE;

--kreiranje trigera za zabranu modifikacije primarnih kljuceva

CREATE OR REPLACE TRIGGER "PROGRAMSKIJEZIK_PK" 
    BEFORE UPDATE
    ON PROGRAMSKIJEZIK
    FOR EACH ROW
     WHEN (NEW.IDPROGRAMSKOGJEZIKA != OLD.IDPROGRAMSKOGJEZIKA)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "PROGRAMSKIJEZIK_PK" ENABLE;


CREATE OR REPLACE TRIGGER "ZAPOSLENI_PK" 
    BEFORE UPDATE
    ON ZAPOSLENI
    FOR EACH ROW
     WHEN (NEW.IDZAPOSLJENOG != OLD.IDZAPOSLJENOG)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "ZAPOSLENI_PK" ENABLE;


CREATE OR REPLACE TRIGGER "SARADNIK_PK" 
    BEFORE UPDATE
    ON SPOLJNISARADNIK
    FOR EACH ROW
     WHEN (NEW.IDSARADNIKA != OLD.IDSARADNIKA)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "SARADNIK_PK" ENABLE;


CREATE OR REPLACE TRIGGER "PROJEKAT_PK" 
    BEFORE UPDATE
    ON SOFTVERSKIPROJEKAT
    FOR EACH ROW
     WHEN (NEW.IDPROJEKTA != OLD.IDPROJEKTA)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "PROJEKAT_PK" ENABLE;

CREATE OR REPLACE TRIGGER "ZNA_PK" 
    BEFORE UPDATE
    ON ZNA
    FOR EACH ROW
     WHEN (NEW.ZNAID != OLD.ZNAID)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "ZNA_PK" ENABLE;

CREATE OR REPLACE TRIGGER "RUKOVODI_PK" 
    BEFORE UPDATE
    ON RUKOVODI
    FOR EACH ROW
     WHEN (NEW.RUKOVODIID != OLD.RUKOVODIID)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "RUKOVODI_PK" ENABLE;

CREATE OR REPLACE TRIGGER "ANGAZOVANI_PK" 
    BEFORE UPDATE
    ON ANGAZOVANI
    FOR EACH ROW
     WHEN (NEW.ANGAZOVANIID != OLD.ANGAZOVANIID)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "ANGAZOVANI_PK" ENABLE;


CREATE OR REPLACE TRIGGER "TELEFON_PK" 
    BEFORE UPDATE
    ON TELEFON
    FOR EACH ROW
     WHEN (NEW.IDTELEFON != OLD.IDTELEFON)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/

ALTER TRIGGER "TELEFON_PK" ENABLE;

CREATE OR REPLACE TRIGGER "STELEFON_PK" 
    BEFORE UPDATE
    ON STELEFON
    FOR EACH ROW
     WHEN (NEW.IDSTELEFON != OLD.IDSTELEFON)
BEGIN
   RAISE_APPLICATION_ERROR(-20333,'Nemoguce izvrsiti modifikaciju ID-a!');
END;
/
ALTER TRIGGER "STELEFON_PK" ENABLE;

SET DEFINE OFF;
Insert into PROGRAMSKIJEZIK (IDPROGRAMSKOGJEZIKA,IMEPROGRAMSKOGJEZIKA) values (PROGRAMSKI_JEZIK_ID_SEQ.nextval,'C++'); 
Insert into PROGRAMSKIJEZIK (IDPROGRAMSKOGJEZIKA,IMEPROGRAMSKOGJEZIKA) values (PROGRAMSKI_JEZIK_ID_SEQ.nextval,'C#');
Insert into PROGRAMSKIJEZIK (IDPROGRAMSKOGJEZIKA,IMEPROGRAMSKOGJEZIKA) values (PROGRAMSKI_JEZIK_ID_SEQ.nextval,'Java');
Insert into PROGRAMSKIJEZIK (IDPROGRAMSKOGJEZIKA,IMEPROGRAMSKOGJEZIKA) values (PROGRAMSKI_JEZIK_ID_SEQ.nextval,'PHP');
Insert into PROGRAMSKIJEZIK (IDPROGRAMSKOGJEZIKA,IMEPROGRAMSKOGJEZIKA) values ('','Ada');

SET DEFINE OFF;
Insert into ZAPOSLENI (IDZAPOSLJENOG,IME,PREZIME,JMBG,GRAD,BROJKUCE,NAZIVULICE) values ('','Stojan','Pavelic','1234567891011','Donje Brijanje','13','Ustanicka');
Insert into ZAPOSLENI (IDZAPOSLJENOG,IME,PREZIME,JMBG,GRAD,BROJKUCE,NAZIVULICE) values ('','Nikola','Uskokovic','1231467891011','Gornje Brijanje','25','Ive Lole Ribara');
Insert into ZAPOSLENI (IDZAPOSLJENOG,IME,PREZIME,JMBG,GRAD,BROJKUCE,NAZIVULICE) values ('','Oliver','Nedeljkovic','1234567848011','Dudulajce','96','Generala Fransa Deperea');
Insert into ZAPOSLENI (IDZAPOSLJENOG,IME,PREZIME,JMBG,GRAD,BROJKUCE,NAZIVULICE) values ('','Nedeljko','Hadzipesic','1234567883511','Kosjeric','47','Potocarska');

SET DEFINE OFF;
Insert into PROGRAMER (IDZAPOSLJENOG) values ('2');
Insert into PROGRAMER (IDZAPOSLJENOG) values ('4');

SET DEFINE OFF;
Insert into STARIJIPROJEKTANT (IDZAPOSLJENOG) values ('1');
Insert into STARIJIPROJEKTANT (IDZAPOSLJENOG) values ('3');

SET DEFINE OFF;
Insert into SPOLJNISARADNIK (IDSARADNIKA,SIME,SPREZIME,IDZAPOSLJENOG) values ('','Stane','Dolanc','2');
Insert into SPOLJNISARADNIK (IDSARADNIKA,SIME,SPREZIME,IDZAPOSLJENOG) values ('','Miljenko','Pakovic','2');
Insert into SPOLJNISARADNIK (IDSARADNIKA,SIME,SPREZIME,IDZAPOSLJENOG) values ('','Ostoja','Subasic','4');
Insert into SPOLJNISARADNIK (IDSARADNIKA,SIME,SPREZIME,IDZAPOSLJENOG) values ('','Dragoslav','Karaklajic','4');

SET DEFINE OFF;
Insert into SOFTVERSKIPROJEKAT (IDPROJEKTA,VREMEPOCETKA,VREMEZAVRSETKA) values (PROJEKAT_ID_SEQ.nextval,TO_DATE('12-3-2018','DD-MM-YYYY'),'');
Insert into SOFTVERSKIPROJEKAT (IDPROJEKTA,VREMEPOCETKA,VREMEZAVRSETKA) values ('',TO_DATE('12-11-2017','DD-MM-YYYY'),'');
Insert into SOFTVERSKIPROJEKAT (IDPROJEKTA,VREMEPOCETKA,VREMEZAVRSETKA) values (PROJEKAT_ID_SEQ.nextval,TO_DATE('14-6-2015','DD-MM-YYYY'),TO_DATE('28-7-2017','DD-MM-YYYY'));

SET DEFINE OFF;
Insert into OUTSOURCING (IDPROJEKTA,IMEFIRME,NAZIVULICE,GRAD,BROJ) values ('1','Braca Bambalici','Marsala Tita','Uzice','2');

SET DEFINE OFF;
Insert into PROJEKATKOJISERAZVIJAUFIRMI (IDPROJEKTA) values ('2');

SET DEFINE OFF;
Insert into ZNA (ZNAID,IDZAPOSLJENOG,IDPROGRAMSKOGJEZIKA) values (ZNA_ID_SEQ.nextval,'2','1');
Insert into ZNA (ZNAID,IDZAPOSLJENOG,IDPROGRAMSKOGJEZIKA) values ('','2','2');
Insert into ZNA (ZNAID,IDZAPOSLJENOG,IDPROGRAMSKOGJEZIKA) values (ZNA_ID_SEQ.nextval,'4','3');
Insert into ZNA (ZNAID,IDZAPOSLJENOG,IDPROGRAMSKOGJEZIKA) values (ZNA_ID_SEQ.nextval,'4','4');
Insert into ZNA (ZNAID,IDZAPOSLJENOG,IDPROGRAMSKOGJEZIKA) values ('','4','5');

SET DEFINE OFF;
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('069-44621477','1',TELEFON_ID_SEQ.nextval);
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('062-17845667','2',TELEFON_ID_SEQ.nextval);
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('061-24587667','3',TELEFON_ID_SEQ.nextval);
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('064-27896267','4',TELEFON_ID_SEQ.nextval);
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('069-44621478','1',TELEFON_ID_SEQ.nextval);
Insert into TELEFON (TELEFON,IDZAPOSLJENOG,IDTELEFON) values ('061-44621479','3',TELEFON_ID_SEQ.nextval);

SET DEFINE OFF;
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('069-17867477','1',STELEFON_ID_SEQ.nextval);
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('062-81261667','2',STELEFON_ID_SEQ.nextval);
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('061-22454667','3',STELEFON_ID_SEQ.nextval);
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('064-85236267','4',STELEFON_ID_SEQ.nextval);
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('069-48911478','1',STELEFON_ID_SEQ.nextval);
Insert into STELEFON (STELEFON,IDSARADNIKA,IDSTELEFON) values ('061-17698479','3',STELEFON_ID_SEQ.nextval);

SET DEFINE OFF;
Insert into ANGAZOVANI (ANGAZOVANIID,IDPROJEKTA,IDZAPOSLJENOG,POCETAK,KRAJ) values (ANGAZOVANI_ID_SEQ.nextval,'1','2',TO_DATE('12-3-2018','DD-MM-YYYY'),'');
Insert into ANGAZOVANI (ANGAZOVANIID,IDPROJEKTA,IDZAPOSLJENOG,POCETAK,KRAJ) values ('','2','4',TO_DATE('12-11-2017','DD-MM-YYYY'),TO_DATE('13-1-2018','DD-MM-YYYY'));

SET DEFINE OFF;
Insert into RUKOVODI (RUKOVODIID,IDPROJEKTA,IDZAPOSLJENOG,POCETAK,KRAJ) values (RUKOVODI_ID_SEQ.nextval,'2','3',TO_DATE('12-11-2017','DD-MM-YYYY'),'');
